<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="manifest" href="manifest.json">
    <title>God Level Calculator</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.5.1/dist/confetti.browser.min.js"></script>
</head>
<body class="dark-mode">

    <div class="mode-toggle">
        <button onclick="toggleMode()" id="modeBtn" class="btn-mode-small">Light Mode</button>
    </div>

    <div class="tools-btn-wrap">
        <button onclick="window.location.href='tools.html'">âš¡ Tools &amp; Converters</button>
    </div>

    <div class="calculator glass">
        <div class="history-container">
            <!-- âœ… FIX 3: Added Clear History button -->
            <div class="history-header">
                <span class="history-label">History</span>
                <button onclick="clearHistory()" class="btn-clear-history">ðŸ—‘ Clear</button>
            </div>
            <div id="history-list"></div>
        </div>

        <div class="display-container">
            <input type="text" id="display" readonly value="0">
        </div>

        <div class="buttons-grid">
            <button onclick="calculateScientific('sin')" class="btn-sci">sin</button>
            <button onclick="calculateScientific('cos')" class="btn-sci">cos</button>
            <button onclick="calculateScientific('tan')" class="btn-sci">tan</button>
            <button onclick="calculateScientific('log')" class="btn-sci">log</button>

            <button onclick="calculateSquare()" class="btn-gray">xÂ²</button>
            <button onclick="appendNumber(Math.PI.toFixed(4))" class="btn-gray">Ï€</button>
            <button onclick="calculateInverse()" class="btn-gray">1/x</button>
            <button onclick="appendOperator('/')" class="btn-gray">Ã·</button>

            <button onclick="clearDisplay()" class="btn-orange">C</button>
            <button onclick="deleteLast()" class="btn-gray">DEL</button>
            <!-- âœ… FIX 1: % now calls calculatePercent() instead of appendOperator('%') -->
            <button onclick="calculatePercent()" class="btn-gray">%</button>
            <button onclick="appendOperator('*')" class="btn-gray">Ã—</button>

            <button onclick="appendNumber('7')">7</button>
            <button onclick="appendNumber('8')">8</button>
            <button onclick="appendNumber('9')">9</button>
            <button onclick="appendOperator('-')" class="btn-gray">-</button>

            <button onclick="appendNumber('4')">4</button>
            <button onclick="appendNumber('5')">5</button>
            <button onclick="appendNumber('6')">6</button>
            <button onclick="appendOperator('+')" class="btn-gray">+</button>

            <button onclick="appendNumber('1')">1</button>
            <button onclick="appendNumber('2')">2</button>
            <button onclick="appendNumber('3')">3</button>
            <button onclick="calculateScientific('sqrt')" class="btn-gray">âˆš</button>

            <button onclick="appendNumber('0')" style="grid-column: span 2; border-radius: 40px;">0</button>
            <button onclick="appendNumber('.')">.</button>
            <button onclick="calculate()" class="btn-orange">=</button>
        </div>
    </div>

    <audio id="popSound" src="https://www.soundjay.com/buttons/sounds/button-16.mp3"></audio>
    <script src="Script.js"></script>
</body>
</html>
